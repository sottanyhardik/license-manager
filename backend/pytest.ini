[pytest]
DJANGO_SETTINGS_MODULE = lmanagement.settings
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*
testpaths =
    core/tests
    license/tests
    allotment/tests
    tests

# Coverage settings
addopts =
    --verbose
    --strict-markers
    --tb=short
    --cov=.
    --cov-report=html
    --cov-report=term-missing
    --cov-branch
    --no-migrations
    --reuse-db

# Test markers
markers =
    unit: Unit tests for individual functions/classes
    integration: Integration tests for API endpoints
    slow: Tests that take a long time to run
    smoke: Quick smoke tests for critical functionality

# Django settings
django_find_project = false

# Ignore directories
norecursedirs =
    .git
    .venv*
    __pycache__
    migrations
    static
    media
    node_modules

# Console output
console_output_style = progress

# Timeout for tests (in seconds)
timeout = 300

# Parallel execution (use -n auto in command line)
# Requires pytest-xdist
